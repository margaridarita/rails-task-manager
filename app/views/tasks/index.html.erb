<div class="page w-25 my-4 mx-auto p-4 rounded">

  <h1 class="m-0">My tasks</h1>

  <%= form_with(url: tasks_path, method: :post, id: "checklist-form") do |form| %>

    <div data-controller="checklist">

      <div class="my-4">
        <% @tasks.each do |task| %>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="task-<%= task.id %>" data-checklist-target="checkbox" data-action="change->checklist#check">
            <label class="form-check-label" for="task-<%= task.id %>">
              <%= link_to task.title, task_path(task) %>
            </label>
          </div>
        <% end %>
      </div>

      <div class="d-flex justify-content-between">
        <button class="btn btn-dark">
          <%= link_to "Add new task", new_task_path %>
        </button>
        <button class="btn btn-success d-none" id="completed-button" data-checklist-target="button" data-action="click->checklist#complete">
          Complete
        </button>
      </div>

    </div>

  <% end %>

</div>
